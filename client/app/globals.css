/* Import modern display and UI fonts */
@import url('https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Inter:wght@300;400;600;700&display=swap');
@import 'tailwindcss';

@custom-variant dark (&:is(.dark *));

@theme {
  --color-border: hsl(var(--border));
  --color-input: hsl(var(--input));
  --color-ring: hsl(var(--ring));
  --color-background: hsl(var(--background));
  --color-foreground: hsl(var(--foreground));

  --color-primary: hsl(var(--primary));
  --color-primary-foreground: hsl(var(--primary-foreground));

  --color-secondary: hsl(var(--secondary));
  --color-secondary-foreground: hsl(var(--secondary-foreground));

  --color-destructive: hsl(var(--destructive));
  --color-destructive-foreground: hsl(var(--destructive-foreground));

  --color-muted: hsl(var(--muted));
  --color-muted-foreground: hsl(var(--muted-foreground));

  --color-accent: hsl(var(--accent));
  --color-accent-foreground: hsl(var(--accent-foreground));

  --color-popover: hsl(var(--popover));
  --color-popover-foreground: hsl(var(--popover-foreground));

  --color-card: hsl(var(--card));
  --color-card-foreground: hsl(var(--card-foreground));
}

/*
  The default border color has changed to `currentcolor` in Tailwind CSS v4,
  so we've added these compatibility styles to make sure everything still
  looks the same as it did with Tailwind CSS v3.

  If we ever want to remove these styles, we need to add an explicit border
  color utility to any element that depends on these defaults.
*/
@layer base {
  *,
  ::after,
  ::before,
  ::backdrop,
  ::file-selector-button {
    border-color: var(--color-gray-200, currentcolor);
  }
}

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 221.2 83.2% 53.3%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96%;
    --secondary-foreground: 222.2 84% 4.9%;
    --muted: 210 40% 96%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96%;
    --accent-foreground: 222.2 84% 4.9%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 221.2 83.2% 53.3%;
    --radius: 0.5rem;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --primary: 217.2 91.2% 59.8%;
    --primary-foreground: 222.2 84% 4.9%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 224.3 76.3% 94.1%;
  }
}

/* Font helpers */
.font-display {
  font-family: 'Bebas Neue', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
}

.font-modern {
  font-family: 'Inter', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;
}

@layer base {
  * {
    box-sizing: border-box;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    border-color: var(--color-border);
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* Modern scrollbar styles (applies when element has .modern-scrollbar) */
.modern-scrollbar {
  /* Firefox: thin thumb, transparent track */
  scrollbar-width: thin;
  scrollbar-color: rgba(148,163,184,0.7) transparent; /* thumb, track */
}
.modern-scrollbar::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
.modern-scrollbar::-webkit-scrollbar-track {
  background: transparent; /* completely transparent track */
}
.modern-scrollbar::-webkit-scrollbar-thumb {
  background-color: rgba(148,163,184,0.7); /* grey thumb */
  border-radius: 9999px;
  border: 0; /* no box around thumb */
}
.modern-scrollbar::-webkit-scrollbar-thumb:hover {
  background-color: rgba(148,163,184,0.85);
}

/* Custom Animations */
@keyframes blob {
  0% {
    transform: translate(0px, 0px) scale(1);
  }
  33% {
    transform: translate(30px, -50px) scale(1.1);
  }
  66% {
    transform: translate(-20px, 20px) scale(0.9);
  }
  100% {
    transform: translate(0px, 0px) scale(1);
  }
}

@keyframes fade-in-up {
  0% {
    opacity: 0;
    transform: translateY(30px);
  }
  100% {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-blob {
  animation: blob 7s infinite;
}

.animation-delay-2000 {
  animation-delay: 2s;
}

.animation-delay-4000 {
  animation-delay: 4s;
}

.animate-fade-in-up {
  animation: fade-in-up 0.8s ease-out forwards;
}

.animation-delay-300 {
  animation-delay: 300ms;
}

.animation-delay-600 {
  animation-delay: 600ms;
}

.animation-delay-900 {
  animation-delay: 900ms;
}

.animation-delay-1200 {
  animation-delay: 1200ms;
}

/* Prose list styles for WYSIWYG content */
.prose ul {
  list-style-type: disc !important;
  padding-left: 1.5rem !important;
  margin-bottom: 1rem !important;
}

.prose ol {
  list-style-type: decimal !important;
  padding-left: 1.5rem !important;
  margin-bottom: 1rem !important;
}

.prose li {
  margin-bottom: 0.5rem !important;
  display: list-item !important;
}

.prose ul ul {
  list-style-type: circle !important;
  margin-top: 0.5rem !important;
  margin-bottom: 0.5rem !important;
}

.prose ol ol {
  list-style-type: lower-alpha !important;
  margin-top: 0.5rem !important;
  margin-bottom: 0.5rem !important;
}

/* Additional specific selectors for nested content */
.prose div ul,
.prose ul {
  list-style-type: disc !important;
  padding-left: 1.5rem !important;
  margin-bottom: 1rem !important;
}

.prose div ol,
.prose ol {
  list-style-type: decimal !important;
  padding-left: 1.5rem !important;
  margin-bottom: 1rem !important;
}

/* Ensure list items are visible */
.prose div li {
  margin-bottom: 0.5rem !important;
  display: list-item !important;
  list-style-position: outside !important;
}

/* Specific overrides for Quill-generated content */
.prose .ql-editor ul,
.prose [data-list="bullet"] {
  list-style-type: disc !important;
}

.prose .ql-editor ol,
.prose [data-list="ordered"] {
  list-style-type: decimal !important;
}

/* Force correct list styles regardless of nesting */
.prose ul li {
  list-style-type: disc !important;
}

.prose ol li {
  list-style-type: decimal !important;
}

/* More specific Quill list targeting */
.prose li[data-list="bullet"],
.prose ul li,
.prose .ql-editor ul li {
  list-style-type: disc !important;
}

.prose li[data-list="ordered"],
.prose ol li,
.prose .ql-editor ol li {
  list-style-type: decimal !important;
}

/* Reset any conflicting styles */
.prose li {
  list-style: inherit !important;
}

.prose p {
  margin-bottom: 1rem;
}

.prose h1, .prose h2, .prose h3 {
  margin-top: 1.5rem;
  margin-bottom: 1rem;
  font-weight: 600;
}

.prose h1 {
  font-size: 2rem;
  font-weight: 700;
  line-height: 1.2;
}

.prose h2 {
  font-size: 1.5rem;
  font-weight: 600;
  line-height: 1.3;
}

.prose h3 {
  font-size: 1.25rem;
  font-weight: 600;
  line-height: 1.4;
}

/* Dark mode headings */
.dark .prose h1,
.dark .prose h2,
.dark .prose h3 {
  color: #ffffff;
}

/* Ensure headings are properly styled in both themes */
.prose-invert h1,
.prose-invert h2,
.prose-invert h3 {
  color: #ffffff;
}

.prose blockquote {
  border-left: 4px solid currentColor;
  padding-left: 1rem;
  margin: 1rem 0;
  font-style: italic;
  opacity: 0.8;
}

.prose strong {
  font-weight: 700;
}

.prose em {
  font-style: italic;
}

.prose a {
  color: hsl(var(--primary));
  text-decoration: underline;
  word-break: break-all;
}

.prose a:hover {
  opacity: 0.8;
}

.prose a[target="_blank"]::after {
  content: " â†—";
  font-size: 0.8em;
  opacity: 0.7;
}

/* Fix Quill link tooltip positioning and visibility */
.ql-tooltip {
  position: absolute !important;
  z-index: 9999 !important;
  background: white !important;
  border: 1px solid #ccc !important;
  padding: 8px !important;
  border-radius: 4px !important;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15) !important;
  left: auto !important;
  right: 20px !important;
  transform: none !important;
}

.ql-tooltip.ql-editing {
  left: auto !important;
  right: 20px !important;
}

.ql-snow .ql-tooltip[data-mode=link]::before {
  content: "Entrez l'URL:" !important;
}

.ql-tooltip input {
  background: white !important;
  color: black !important;
  border: 1px solid #ccc !important;
  padding: 4px 8px !important;
  border-radius: 3px !important;
}

.ql-tooltip .ql-action,
.ql-tooltip .ql-remove {
  margin-left: 8px !important;
  color: #0066cc !important;
  cursor: pointer !important;
  text-decoration: underline !important;
}

/* Ensure Quill editor container has relative positioning */
.ql-container {
  position: relative !important;
}

/* Improve Quill editor in dark theme context */
.ql-editor {
  min-height: 150px !important;
}

/* Fix link button and tooltip contrast */
.ql-snow .ql-tooltip {
  background-color: #ffffff !important;
  border: 1px solid #ccc !important;
  color: #000 !important;
}

.ql-snow .ql-tooltip input[type=text] {
  background-color: #ffffff !important;
  color: #000 !important;
  border: 1px solid #ccc !important;
}